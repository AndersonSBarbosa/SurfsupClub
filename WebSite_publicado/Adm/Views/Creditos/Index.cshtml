@model List<Entidades.Fornecedor>
@{
    ViewBag.Title = "Fornecedor";
}

<h2>@ViewBag.Title</h2>

<h2>@ViewBag.MensagemInicio</h2>

<div class="well well-sm text-primary text-center">
    @ViewBag.MensagemExito
    @ViewBag.MensagemErro
</div>

@using (Html.BeginForm())
{

    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">

            <table id="example" class="table table-striped responsive-utilities jambo_table">
                <thead>
                    <tr class="headings">
                        <th>ID</th>
                        <th>CNPJ</th>
                        <th>Nome Fantasia</th>
                        <th>Razao Social</th>
                        <th>Cod. Interno</th>
                        <th>Endereco</th>
                        <th>Cidade/SP</th>
                        <th>Data Cadastro</th>
                        <th>Situação</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var rs in Model)
                    {
                        <tr class="even pointer">
                            <td><input type="checkbox" id="FornecedorLista" name='Fornecedor[]' onclick='AlimentaHiden();' value="@rs.IdFornecedor" class="tableflat"> @rs.IdFornecedor</td>
                            <td>@rs.CNPJ</td>
                            <td>@rs.NomeFantasia</td>
                            <td>@rs.RazaoSocial</td>
                            <td>@rs.CodigoInterno</td>
                            <td>@rs.Endereco, @rs.Numero - @rs.Bairro</td>
                            <td>@rs.Cidade/@rs.Estado</td>
                            <td>@rs.DataCadastro</td>
                            <td>@rs.Status.NomeStatus</td>
                            <td>
                                <a class="btn btn-info" href="~/Fornecedor/Atualizar/@rs.IdFornecedor">Editar</a>
                            </td>
                        </tr>
                    }

                    @Html.Hidden("camposMarcados")

                </tbody>

            </table>
    
        </div>
    </div>

}

        <script type="text/javascript">

       function AlimentaHiden() {

            camposMarcados = new Array();
            $("input[type=checkbox][name='Fornecedor[]']:checked").each(function () {
                camposMarcados.push($(this).val());
            });
            $('#camposMarcados').val(camposMarcados);

        }

        </script>